<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Plane Tikets Handler</title>
</head>
<body>
  <script>

    var passagers = [
      {name: "Jane Doloop", paid: true},
      {name: "Dr. Evel", paid: true},
      {name: "Sue Property", paid: false},
      {name: "John Funcall", paid: true},
      {name: "Dr.Evil", paid: true}
    ];


    // function tiketHandler (list){
    //   if (list.length == 0){
    //     return (console.log(list + " Arr is Empty!"));
    //   } else {
    //     passagersHandler(list);
    //   }

    // }

    // var processPassagers = function(list){
    //   for (var i = 0; i < list.length; i++){
    //       console.log("Passager " + list[i].name);
    //       isPaid(list, i);
    //     }
    // }

    // var isPaid = function (list, i) {
    //   if (list[i].paid){
    //         console.log("He is paid for tikets!")
    //       } else {
    //         console.log("He is not paid for tikets!")
    //       };
    // }

    // function inBlackList (passagers) {
    //   if (passagers.name.indexOf("Sue Property")){
    //     return true;
    //   } else {
    //     return (console.log (passagers.name + " is Ban"));
    //     }
      
    // }

    // inBlackList(passagers);

    // tiketHandler(passagers);


    function processPassagers (passagers, testFunction) {
      for (let i = 0; i < passagers.length; i++) {
        if (testFunction (passagers[i])) {
          return false;
        }
      }
      return true;
    }

    function checkNoFlyList(passager){
      return (passager.name === "Dr.Evil");
    }

    function checkNotPaid (passager){
      return (!passager.paid);
    }


    var allCanFly = processPassagers(passagers, checkNoFlyList);

    if (!allCanFly) {
      console.log("The plane can`t tacke off: we have a passaer on the no-fly-list")
    }

    var allPaid = processPassagers (passagers, checkNotPaid);
    if (!allPaid) {
      console.log ("The plane can`t take off: not everyone has paid.")
    }

    function printPassager (passager) {
      var passagerName = "Passager name: " + passager.name;

      if (!passager.paid){
        return (console.log (passagerName + ". Status: Not Paid"));
      } else {
        return (console.log (passagerName + ". Status: Paid"));
      }
    }

    processPassagers(passagers, printPassager)
  </script>
</body>
</html>